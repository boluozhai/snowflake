<!DOCTYPE html>
<html>
<body>

	<div>
		<h1>Test JHR</h1>

		<div>
			<button id='btn-js-get'>get jsapi</button>
		</div>
		<div>
			<button id='btn-js-post'>post jsapi</button>
		</div>

	</div>

	<script src="../../../jquery/1.11.2/src/jquery/jquery.min.js"></script>

	<script src="../../../snowjs/0.7/src/snowjs/Lang.js"></script>
	<script src="../../../snowjs/0.7/src/snowjs/Context.js"></script>
	<script src="../../../snowjs/0.7/src/snowjs/Base64.js"></script>
	<script src="../../../snowjs/0.7/src/snowjs/Web.js"></script>

	<script src="root.js"></script>
	<script src="index.js"></script>

	<script type="text/javascript">
		$(document).ready(function() {

			var context = Page.context();
			context.appTitle('SnowJS-test');

			$('#btn-js-get').click(doGetJS);
			$('#btn-js-post').click(doPostJS);
		});

		var JHRClients = js.web.jhr.JSONHttpRequestClients;

		function doGetJS() {
			var context = getContext();
			var client = JHRClients.getClient(context);

			var request = client.createRequest();
			request.httpMethod('GET');
			request.token({
				a : 1,
				b : 2
			});
			request.type('User');
			request.id('0001');
			request.action('login');

			client.execute(request, function(response) {
				alert("done");
			});
		}

		function doPostJS() {
		}
	</script>

</body>
</html>